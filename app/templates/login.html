<ion-modal-view>
  <ion-header-bar>
    <h1 class="title">MediBook</h1>
    <div class="buttons">
      <button class="button button-clear" ng-click="closeLogin()" ng-if = "window.localStorage.getItem('sessionToken')">Close</button>
    </div>
  </ion-header-bar>
  <ion-content>
      <!-- Loading Spinner -->
      <ion-spinner class = "spinner-positive ionicSpinner" ng-show = "loading"></ion-spinner>
    <form>

    <h4 class = "center">Welcome to MediBook! The Secure medical information storage app. Please Login or Register</h4>

      <div class="list">

      <label class="item item-radio">
        <input type="radio" name="group" value = "login" ng-model = "authType">
        <i class="radio-icon ion-checkmark"></i>
        <div class="item-content">
          Login
        </div>
      </label>

      <label class="item item-radio">
        <input type="radio" name="group" value = "register" ng-model = "authType">
        <i class="radio-icon ion-checkmark"></i>
        <div class="item-content">
          Register
        </div>
      </label>

      <br>
      <br>

      <div class = "loginInput" ng-show = "authType == 'login'">
            <label class="item item-input">
              <span class="input-label">E-mail</span>
              <input type="text" ng-model="loginData.username">
            </label>
            <label class="item item-input">
              <span class="input-label">Password</span>
              <input type="password" ng-model="loginData.password">
            </label>
            <label class="item item-input">
              <span class="input-label">Encryption Key</span>
              <input type="password" ng-model="loginData.key">
            </label>
            <label class="item">
                <button class="button button-block button-positive" type="submit" ng-click = "loginUser()" ng-disabled = "loading">Log in</button>
            </label>
      </div>

      <div class = "loginInput" ng-show = "authType != 'login' && authType != null">
            <label class="item item-input">
              <span class="input-label">E-mail</span>
              <input type="text" ng-model="regData.username">
            </label>
            <label class="item item-input">
              <span class="input-label">Password</span>
              <input type="text" ng-model="regData.password" >
            </label>
            <label class="item">
                <button class="button button-block button-positive" ng-click = "registerUser()" ng-disabled = "loading">Register</button>
            </label>
      </div>

      </div>
    </form>
  </ion-content>
</ion-modal-view>
